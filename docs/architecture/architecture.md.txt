# Architecture & Design â€” Retail Sales Analytics  

---

## ðŸ”¹ Overview  

This project replicates a real-world Retail BI system built on the Microsoft BI stack.  
The goal was to design a complete analytical pipeline from raw data to dashboards.

---

## ðŸ”¹ Data Flow  
Raw CSVs â†’ SSIS ETL â†’ SQL Data Warehouse â†’ SSAS Cube â†’ Power BI Reports

### Layer Responsibilities  

| Layer | Tool | Role |
|--------|------|------|
| Ingestion | SSIS | Load, clean, transform CSVs |
| Storage | SQL Server | Staging + Data Warehouse |
| Modeling | SSAS | Semantic layer (measures, KPIs) |
| Visualization | Power BI | Reports and dashboards |

---

## ðŸ”¹ Star Schema  

**Fact:** `FactInternetSales`  
**Dimensions:** `DimCustomer`, `DimProduct`, `DimGeography`, `DimPromotion`, `DimDate`

Relationships:

DimDate (DateKey) â† FactInternetSales (DateKey)
DimCustomer (CustomerKey) â† FactInternetSales (CustomerKey)
DimProduct (ProductKey) â† FactInternetSales (ProductKey)
DimGeography (GeographyKey) â† FactInternetSales (GeographyKey)
DimPromotion (PromotionKey) â† FactInternetSales (PromotionKey)

---

## ðŸ”¹ Measures & Calculations  

```mdx
Profit = [Measures].[Sales Amount] - [Measures].[Total Cost]

Profit Margin =  
  IIF([Measures].[Sales Amount] = 0, NULL,  
      [Measures].[Profit] / [Measures].[Sales Amount])

--KPI: Profit Margin Target = 10 %
  Green â†’ > 10 %
  Yellow â†’ 5â€“10 %
  Red â†’ < 5 %

---

##ðŸ”¹ Power BI Dashboards

     Page 1 â€” Executive KPIs
              Cards: Sales, Cost, Profit, Margin
              Line Chart: Sales vs Profit over the Year
              Slicers: Year, Region, Product Category

     Page 2 â€” Product Performance
              Matrix: Category â†’ Subcategory Ã— Year
              Top 10 Bar Chart by Profit
              Conditional Formatting: Profit Margin (green â†’ red)

     Page 3 â€” Customer & Geography
              Matrix: Region â†’ City (Sales & AOV)
              Line Chart: Profit Margin by Year + Region Legend
              
ðŸ”¹ Key Issues & Fixes
    Issue 1: Duplicate key error in DimDate		
      Cause: Month Name not linked to Month Number	
      Solution: Created proper hierarchy: Year â†’ Month Number â†’ Month Name
    Issue 2: Service login denied access to DW	
      Cause: SSAS service account not mapped	
      Solution: Created SSAS_ServiceLogin with db_datareader
    Issue 3: #VALUE! in Excel
      Cause: Wrong measure type	
      Solution: Ensured DT_NUMERIC for Profit and Margin
    Issue 4: Negative profits
      Cause: TotalCost direction wrong
      Solution: Corrected measure: Profit = Sales â€“ Cost
		

		